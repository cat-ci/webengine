!function(){let e=window.SpriteManagerConfig||{},t=e.spritesheet||"//zip.catci.net/catci.net/spritesheet_0.webp",r=e.coords||"//zip.catci.net/catci.net/spritesheet_0.txt",l=!1!==e.cache,c=e.cacheVersion||"v1",o=["background","background-image","border-image","border-image-source","list-style","list-style-image","content","cursor","mask","mask-image","clip-path","filter"];function s(e){return e.replace(/^\//,"").replace(/\.webp$/i,"")}function a(e){return`sprite-base64:${c}:${s(e)}`}async function i(){let[e,l]=await Promise.all([new Promise((e,r)=>{let l=new Image;l.crossOrigin="anonymous",l.src=t,l.onload=()=>e(l),l.onerror=r}),fetch(r).then(e=>e.json())]);return{spriteSheetImage:e,spriteCoords:l}}function f(e,t){for(let r of Array.from(e))if(r.type===CSSRule.STYLE_RULE)for(let l of o){let c=r.style.getPropertyValue(l);if(c){let s=[...c.matchAll(/url\(["']?sm-\/([^"')]+)["']?\)/g)];for(let a of s)t.add(a[1])}}else(r.type===CSSRule.MEDIA_RULE||r.type===CSSRule.SUPPORTS_RULE||r.type===CSSRule.DOCUMENT_RULE||r.type===CSSRule.CONDITIONAL_RULE)&&f(r.cssRules,t)}async function n(e,t,r){let c=new Map;return await Promise.all(Array.from(e).map(async e=>{var o;let s=(o=e,l?localStorage.getItem(a(o)):null);if(!s){let i=t.get(e);i&&(s=function e(t,r){let l=r.top_left[0],c=r.top_left[1],o=r.top_right[0]-r.top_left[0],s=r.bottom_left[1]-r.top_left[1],a=document.createElement("canvas");a.width=o,a.height=s;let i=a.getContext("2d");return i.drawImage(t,l,c,o,s,0,0,o,s),a.toDataURL("image/webp")}(r,i),function e(t,r){if(l)try{localStorage.setItem(a(t),r)}catch(c){}}(e,s))}s&&c.set(e,s)})),c}function u(e,t){for(let r of Array.from(e))if(r.type===CSSRule.STYLE_RULE)for(let l of o){let c=r.style.getPropertyValue(l);if(c&&/url\(["']?sm-\/[^"')]+["']?\)/.test(c)){let a=c.replace(/url\(["']?sm-\/([^"')]+)["']?\)/g,(e,r)=>{let l=s(r),c=t.get(l);return c?`url(${c})`:e});r.style.setProperty(l,a)}}else(r.type===CSSRule.MEDIA_RULE||r.type===CSSRule.SUPPORTS_RULE||r.type===CSSRule.DOCUMENT_RULE||r.type===CSSRule.CONDITIONAL_RULE)&&u(r.cssRules,t)}async function m(){var e;let{spriteSheetImage:t,spriteCoords:r}=await i(),l=function e(t){let r=new Map;for(let l of t)r.set(s(l.filename),l);return r}(r),c=function e(t){let r=new Set;for(let l of(document.querySelectorAll("img[sm-src]").forEach(e=>{r.add(e.getAttribute("sm-src"))}),document.querySelectorAll("img[src^='sm-/']").forEach(e=>{r.add(e.getAttribute("src").replace(/^sm-/,""))}),document.querySelectorAll("source[srcset^='sm-/']").forEach(e=>{r.add(e.getAttribute("srcset").replace(/^sm-/,""))}),document.querySelectorAll("input[type='image'][src^='sm-/']").forEach(e=>{r.add(e.getAttribute("src").replace(/^sm-/,""))}),document.querySelectorAll("video[poster^='sm-/']").forEach(e=>{r.add(e.getAttribute("poster").replace(/^sm-/,""))}),document.querySelectorAll("link[rel~='icon'][href^='sm-/']").forEach(e=>{r.add(e.getAttribute("href").replace(/^sm-/,""))}),document.querySelectorAll("object[data^='sm-/']").forEach(e=>{r.add(e.getAttribute("data").replace(/^sm-/,""))}),document.querySelectorAll("embed[src^='sm-/']").forEach(e=>{r.add(e.getAttribute("src").replace(/^sm-/,""))}),document.querySelectorAll("iframe[src^='sm-/']").forEach(e=>{r.add(e.getAttribute("src").replace(/^sm-/,""))}),document.querySelectorAll("image[xlink\\:href^='sm-/']").forEach(e=>{r.add(e.getAttribute("xlink:href").replace(/^sm-/,""))}),document.querySelectorAll("use[xlink\\:href^='sm-/']").forEach(e=>{r.add(e.getAttribute("xlink:href").replace(/^sm-/,""))}),document.querySelectorAll("*").forEach(e=>{for(let t of o){let l=t.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),c=e.style[l]||e.style[t];if(c){let s=[...c.matchAll(/url\(["']?sm-\/([^"')]+)["']?\)/g)];for(let a of s)r.add(a[1])}}}),Array.from(document.styleSheets))){let c;try{c=l.cssRules}catch(a){continue}c&&f(c,r)}let i=new Set;for(let n of r){let u=s(n);t.has(u)&&i.add(u)}return i}(l),a=await n(c,l,t);for(let m of(!function e(t){function r(e,r){let l=e.getAttribute(r);if(!l)return;let c=s(l.replace(/^sm-/,"")),o=t.get(c);o&&(e[r]=o)}document.querySelectorAll("img[sm-src]").forEach(e=>r(e,"sm-src")),document.querySelectorAll("img[src^='sm-/']").forEach(e=>r(e,"src")),document.querySelectorAll("source[srcset^='sm-/']").forEach(e=>r(e,"srcset")),document.querySelectorAll("input[type='image'][src^='sm-/']").forEach(e=>r(e,"src")),document.querySelectorAll("video[poster^='sm-/']").forEach(e=>r(e,"poster")),document.querySelectorAll("link[rel~='icon'][href^='sm-/']").forEach(e=>r(e,"href")),document.querySelectorAll("object[data^='sm-/']").forEach(e=>r(e,"data")),document.querySelectorAll("embed[src^='sm-/']").forEach(e=>r(e,"src")),document.querySelectorAll("iframe[src^='sm-/']").forEach(e=>r(e,"src")),document.querySelectorAll("image[xlink\\:href^='sm-/']").forEach(e=>r(e,"xlink:href")),document.querySelectorAll("use[xlink\\:href^='sm-/']").forEach(e=>r(e,"xlink:href"))}(a),e=a,document.querySelectorAll("*").forEach(t=>{for(let r of o){let l=r.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),c=t.style[l]||t.style[r];if(c&&/url\(["']?sm-\/[^"')]+["']?\)/.test(c)){let a=c.replace(/url\(["']?sm-\/([^"')]+)["']?\)/g,(t,r)=>{let l=s(r),c=e.get(l);return c?`url(${c})`:t});t.style[r]=a}}}),Array.from(document.styleSheets))){let y;try{y=m.cssRules}catch(p){continue}y&&u(y,a)}}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",m):m()}();
