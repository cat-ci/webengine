!function(){let e=window.SpriteManagerConfig||{},t=e.spritesheet||"//zip.catci.net/catci.net/spritesheet_0.webp",r=e.coords||"//zip.catci.net/catci.net/spritesheet_0.txt",l=!1!==e.cache,s=e.cacheVersion||"v1",c=["background","background-image","border-image","border-image-source","list-style","list-style-image","content","cursor","mask","mask-image","clip-path","filter"];function a(e){return`sprite-base64:${s}:${e.replace(/^\//,"")}`}async function o(){let[e,l]=await Promise.all([new Promise((e,r)=>{let l=new Image;l.crossOrigin="anonymous",l.src=t,l.onload=()=>e(l),l.onerror=r}),fetch(r).then(e=>e.json())]);return{spriteSheetImage:e,spriteCoords:l}}function i(e,t){for(let r of Array.from(e))if(r.type===CSSRule.STYLE_RULE)for(let l of c){let s=r.style.getPropertyValue(l);if(s){let a=[...s.matchAll(/url\(["']?sm-\/([^"')]+)["']?\)/g)];for(let o of a)t.add("/"+o[1])}}else(r.type===CSSRule.MEDIA_RULE||r.type===CSSRule.SUPPORTS_RULE||r.type===CSSRule.DOCUMENT_RULE||r.type===CSSRule.CONDITIONAL_RULE)&&i(r.cssRules,t)}async function f(e,t,r){let s=new Map;return await Promise.all(Array.from(e).map(async e=>{var c;let o=(c=e,l?localStorage.getItem(a(c)):null);if(!o){let i=t.find(t=>t.filename===e.replace(/^\//,""));i&&function e(t,r){if(l)try{localStorage.setItem(a(t),r)}catch(s){}}(e,o=function e(t,r){let l=r.top_left[0],s=r.top_left[1],c=r.top_right[0]-r.top_left[0],a=r.bottom_left[1]-r.top_left[1],o=document.createElement("canvas");o.width=c,o.height=a;let i=o.getContext("2d");return i.drawImage(t,l,s,c,a,0,0,c,a),o.toDataURL("image/webp")}(r,i))}o&&s.set(e,o)})),s}function u(e,t){for(let r of Array.from(e))if(r.type===CSSRule.STYLE_RULE)for(let l of c){let s=r.style.getPropertyValue(l);if(s&&/url\(["']?sm-\/[^"')]+["']?\)/.test(s)){let a=s.replace(/url\(["']?sm-\/([^"')]+)["']?\)/g,(e,r)=>{let l="/"+r,s=t.get(l);return s?`url(${s})`:e});r.style.setProperty(l,a)}}else(r.type===CSSRule.MEDIA_RULE||r.type===CSSRule.SUPPORTS_RULE||r.type===CSSRule.DOCUMENT_RULE||r.type===CSSRule.CONDITIONAL_RULE)&&u(r.cssRules,t)}async function m(){var e,t;let{spriteSheetImage:r,spriteCoords:l}=await o(),s=function e(t){let r=new Set;for(let l of(document.querySelectorAll("img[sm-src]").forEach(e=>{r.add(e.getAttribute("sm-src"))}),document.querySelectorAll("img[src^='sm-/']").forEach(e=>{r.add(e.getAttribute("src").replace(/^sm-/,""))}),document.querySelectorAll("source[srcset^='sm-/']").forEach(e=>{r.add(e.getAttribute("srcset").replace(/^sm-/,""))}),document.querySelectorAll("input[type='image'][src^='sm-/']").forEach(e=>{r.add(e.getAttribute("src").replace(/^sm-/,""))}),document.querySelectorAll("video[poster^='sm-/']").forEach(e=>{r.add(e.getAttribute("poster").replace(/^sm-/,""))}),document.querySelectorAll("link[rel~='icon'][href^='sm-/']").forEach(e=>{r.add(e.getAttribute("href").replace(/^sm-/,""))}),document.querySelectorAll("object[data^='sm-/']").forEach(e=>{r.add(e.getAttribute("data").replace(/^sm-/,""))}),document.querySelectorAll("embed[src^='sm-/']").forEach(e=>{r.add(e.getAttribute("src").replace(/^sm-/,""))}),document.querySelectorAll("iframe[src^='sm-/']").forEach(e=>{r.add(e.getAttribute("src").replace(/^sm-/,""))}),document.querySelectorAll("image[xlink\\:href^='sm-/']").forEach(e=>{r.add(e.getAttribute("xlink:href").replace(/^sm-/,""))}),document.querySelectorAll("use[xlink\\:href^='sm-/']").forEach(e=>{r.add(e.getAttribute("xlink:href").replace(/^sm-/,""))}),document.querySelectorAll("*").forEach(e=>{for(let t of c){let l=t.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),s=e.style[l]||e.style[t];if(s){let a=[...s.matchAll(/url\(["']?sm-\/([^"')]+)["']?\)/g)];for(let o of a)r.add("/"+o[1])}}}),Array.from(document.styleSheets))){let s;try{s=l.cssRules}catch(a){continue}s&&i(s,r)}let o=new Set;for(let f of r){let u=f.startsWith("/")?f:"/"+f;t.find(e=>e.filename===u.replace(/^\//,""))&&o.add(u)}return o}(l),a=await f(s,l,r);for(let m of(e=a,document.querySelectorAll("img[sm-src]").forEach(t=>{let r=t.getAttribute("sm-src"),l=e.get(r.startsWith("/")?r:"/"+r);l&&(t.src=l)}),document.querySelectorAll("img[src^='sm-/']").forEach(t=>{let r=t.getAttribute("src").replace(/^sm-/,""),l=e.get(r.startsWith("/")?r:"/"+r);l&&(t.src=l)}),document.querySelectorAll("source[srcset^='sm-/']").forEach(t=>{let r=t.getAttribute("srcset").replace(/^sm-/,""),l=e.get(r.startsWith("/")?r:"/"+r);l&&(t.srcset=l)}),document.querySelectorAll("input[type='image'][src^='sm-/']").forEach(t=>{let r=t.getAttribute("src").replace(/^sm-/,""),l=e.get(r.startsWith("/")?r:"/"+r);l&&(t.src=l)}),document.querySelectorAll("video[poster^='sm-/']").forEach(t=>{let r=t.getAttribute("poster").replace(/^sm-/,""),l=e.get(r.startsWith("/")?r:"/"+r);l&&(t.poster=l)}),document.querySelectorAll("link[rel~='icon'][href^='sm-/']").forEach(t=>{let r=t.getAttribute("href").replace(/^sm-/,""),l=e.get(r.startsWith("/")?r:"/"+r);l&&(t.href=l)}),document.querySelectorAll("object[data^='sm-/']").forEach(t=>{let r=t.getAttribute("data").replace(/^sm-/,""),l=e.get(r.startsWith("/")?r:"/"+r);l&&(t.data=l)}),document.querySelectorAll("embed[src^='sm-/']").forEach(t=>{let r=t.getAttribute("src").replace(/^sm-/,""),l=e.get(r.startsWith("/")?r:"/"+r);l&&(t.src=l)}),document.querySelectorAll("iframe[src^='sm-/']").forEach(t=>{let r=t.getAttribute("src").replace(/^sm-/,""),l=e.get(r.startsWith("/")?r:"/"+r);l&&(t.src=l)}),document.querySelectorAll("image[xlink\\:href^='sm-/']").forEach(t=>{let r=t.getAttribute("xlink:href").replace(/^sm-/,""),l=e.get(r.startsWith("/")?r:"/"+r);l&&t.setAttribute("xlink:href",l)}),document.querySelectorAll("use[xlink\\:href^='sm-/']").forEach(t=>{let r=t.getAttribute("xlink:href").replace(/^sm-/,""),l=e.get(r.startsWith("/")?r:"/"+r);l&&t.setAttribute("xlink:href",l)}),t=a,document.querySelectorAll("*").forEach(e=>{for(let r of c){let l=r.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),s=e.style[l]||e.style[r];if(s&&/url\(["']?sm-\/[^"')]+["']?\)/.test(s)){let a=s.replace(/url\(["']?sm-\/([^"')]+)["']?\)/g,(e,r)=>{let l="/"+r,s=t.get(l);return s?`url(${s})`:e});e.style[r]=a}}}),Array.from(document.styleSheets))){let n;try{n=m.cssRules}catch(h){continue}n&&u(n,a)}}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",m):m()}();
